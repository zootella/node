<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Page 1</title>
</head>
<body>

<!-- first source the vue library -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<!-- define components -->
<script>
// Define a new component called todo-item
Vue.component('todo-item', {
	props: ['todo'],
	template: '<li>{{ todo.text }}</li>'
});

Vue.component('container-a', {
	props: ['a'],
	template: `
		<div>
			<p>-- container a --</p>
			<p>{{ a.food }}</p>
			<color-name c="{{ a.color }}"></color-name>
		</div>
	`
});

Vue.component('color-name', {
	props: ['c'],
	template: `
		<div>
			<p>color {{ c }}</p>
		</div>
	`
});

</script>

<!-- make the app, and use components -->
<div id="app">
<p>now let's try some components</p>
<p>
	<button v-on:click="method1">Button 1</button>
	<button v-on:click="method2">Button 2</button>
	<button v-on:click="method3">Button 3</button>
</p>
<p>{{ message }}</p>
<ol>
	<todo-item
		v-for="item in groceryList"
		v-bind:todo="item"
		v-bind:key="item.id">
	</todo-item>
</ol>
<container-a a="{{}}"></container-a>
<container-a a="banana"></container-a>
<container-a a="carrot"></container-a>
</div>

<!-- define the app component -->
<script>


let a = "a";

var app = new Vue({
	el: '#app',
	data: {
		title: 'this is the starting title',
		message: 'this is the starting message',
		groceryList: []
	},
	methods: {
		method1() {
			this.message = "hi from method one";
		},
		method2() {
			let o = {};
			o.id = nextUnique();
			o.text = "thing " + a;
			a += "a";
			this.groceryList.push(o);
		},
		method3() {
			this.groceryList.splice(5, 1);
		},
	}
});

// Quickly compose the next unlimited unique identifier, from idn1 through idn999999999999999 and then idnn1
let n, p;
function nextUnique() {
	if (!p) p = "id"; // Starting prefix
	if (!n || n > 999999999999999) { p += "n"; n = 1; } // Starting number or roll over
	return p + n++; // Increment n for next time
}

</script>

</body>
</html>

































































